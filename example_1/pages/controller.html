<!DOCTYPE html>
<html>

<head>
  <title>Controller</title>
  <script src="js/jquery-2.1.0.min.js"></script>
  <script src="rhizome/rhizome.js"></script>
  <script src="https://rawgit.com/nexus-js/ui/master/dist/NexusUI.js"></script>

  <link rel="stylesheet" type="text/css" href="css/styles.css" />
  <script>
    var client
    $(function () {
      client = new rhizome.Client()

      // `rhizome.start` is the first function that should be called.
      // The function inside is executed once the client managed to connect.
      client.start(function (err) {
        // We want to receive all the messages, so we subscribe to '/'
        client.send('/sys/subscribe', ['/'])
      })

      client.on('connected', function () {
        alert('connected!')
      })

      client.on('connection lost', function () {
        alert('connection lost!')
      })

      client.on('server full', function () {
        alert('server is full!')
      })

      button = new Nexus.TextButton('#control', {
        text: 'Play some sounds everywhere!'
      })

      button.on('change', v => {
        v ? client.send('/playAll', [1]) : ''
        // if (v) {
        // }
      });
    })
  </script>
</head>

<body>
  <div class="interface">
    <div id="control"></div>

  </div>
</body>

</html>